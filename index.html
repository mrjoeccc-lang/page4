<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ë‚¨ë“¤ì´ ë§ ì•ˆ í•´ì£¼ëŠ” ë‚˜ì˜ ë¬¸ì œì  í…ŒìŠ¤íŠ¸</title>

<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">

<style>
:root{
  --bg1:#fff6fb; --bg2:#fff0f6;
  --accent:#ff3e85; --accent2:#ff8fb7;
  --muted:#7a607a;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:'Gowun Dodum',sans-serif;
  background: linear-gradient(180deg,var(--bg1),var(--bg2));
  display:flex;align-items:center;justify-content:center;padding:28px;
  color:#3b213b;
}

/* loader */
#loader{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:linear-gradient(180deg,#ffdfe8aa,#fff);z-index:999}
#loader i{font-size:56px;color:var(--accent);animation:pop 1s infinite}
@keyframes pop{0%{transform:scale(1)}50%{transform:scale(1.12)}100%{transform:scale(1)}}

/* container */
.wrap{width:100%;max-width:720px;background:linear-gradient(180deg,rgba(255,255,255,0.95),#fff);border-radius:20px;padding:22px;box-shadow:0 14px 40px rgba(255,110,170,0.08);position:relative;overflow:hidden}

/* floating shapes */
.shape{position:absolute;width:36px;height:36px;border-radius:8px;background:var(--accent);opacity:.08;bottom:-40px;transform:rotate(12deg);animation:rise 8s linear infinite}
.shape.s2{left:25%;animation-duration:7s;opacity:.11}
.shape.s3{left:60%;animation-duration:9s;opacity:.09}
.shape.s4{left:82%;animation-duration:6.5s;opacity:.12}
@keyframes rise{0%{transform:translateY(0) rotate(0)}100%{transform:translateY(-900px) rotate(180deg);opacity:0}}

/* header */
.header{display:flex;gap:14px;align-items:center}
.logo{width:64px;height:64px;border-radius:14px;background:linear-gradient(180deg,#fff,#ffeef8);display:flex;align-items:center;justify-content:center;font-size:28px;color:var(--accent);box-shadow:0 8px 24px rgba(255,111,181,0.06)}
.title{font-size:24px;color:var(--accent);margin:0}
.lead{margin:6px 0 14px;color:var(--muted);font-size:14px}

/* card */
.card{background:#fff;border-radius:14px;padding:16px;margin-top:12px;box-shadow:0 8px 20px rgba(219,155,200,0.03);border:1px solid rgba(255,200,230,0.4)}

/* question */
.q-top{display:flex;justify-content:space-between;align-items:center}
.q-num{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;padding:6px 10px;border-radius:999px;font-weight:800}
.q-text{margin:12px 0 8px;font-size:18px;font-weight:800;color:#9b3a66}

/* options */
.options{display:grid;gap:10px}
.opt{display:flex;gap:12px;align-items:center;padding:12px;border-radius:12px;background:linear-gradient(180deg,#fff,#fffaf7);cursor:pointer;border:1px solid rgba(255,150,200,0.12);transition:transform .12s,box-shadow .12s}
.opt:hover{transform:translateY(-4px);box-shadow:0 10px 24px rgba(255,111,181,0.06)}
.opt .ico{width:46px;height:46;border-radius:10px;background:linear-gradient(180deg,#fff1f8,#ffdff0);display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--accent)}

/* footer */
.footer{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-top:14px}
.progress{flex:1;height:10px;background:#fff0f6;border-radius:999px;overflow:hidden;border:1px solid rgba(255,200,230,0.6)}
.bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .28s}
.btn{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;padding:10px 14px;border-radius:12px;border:0;font-weight:800;cursor:pointer}

/* result */
.result-wrap{text-align:center;padding:10px}
.res-emoji{font-size:64px;margin-top:6px}
.res-title{font-size:20px;font-weight:900;color:var(--accent);margin:8px 0}
.res-desc{color:var(--muted);line-height:1.6;margin:8px 12px}
.actions{display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap}
.small{font-size:13px;color:#a07ea6;margin-top:8px}

/* canvas hide */
#resultCanvas{display:none}

/* responsive */
@media (max-width:480px){
  .title{font-size:20px}
  .q-text{font-size:16px}
  .logo{width:50px;height:50px}
}
</style>
</head>
<body>

<div id="loader">
  <i class="ri-heart-pulse-fill"></i>
  <div style="height:10px"></div>
  <div style="color:#8b6a8b">ì ê¹ë§Œìš”... í…ŒìŠ¤íŠ¸ ë¡œë”©ì¤‘</div>
</div>

<div class="wrap" id="app" style="display:none">
  <div class="shape"></div><div class="shape s2"></div><div class="shape s3"></div><div class="shape s4"></div>

  <div class="header">
    <div class="logo">ğŸ’¬</div>
    <div>
      <h1 class="title">ë‚¨ë“¤ì´ ë§ ì•ˆ í•´ì£¼ëŠ” ë‚˜ì˜ ë¬¸ì œì  í…ŒìŠ¤íŠ¸</h1>
      <div class="lead">ì£¼ë³€ì´ ë§í•˜ì§€ ì•ŠëŠ” ë‹¹ì‹ ì˜ ì•½ì ì„ 10ë¬¸í•­ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤. (ì†”ì§íˆ ì•„í”„ì§€ë§Œ í•„ìš”í•œ ì§„ë‹¨)</div>
    </div>
  </div>

  <div class="card" id="introCard">
    <h3 style="margin:0">í…ŒìŠ¤íŠ¸ ì•ˆë‚´</h3>
    <p class="small" style="margin-top:8px;color:var(--muted)">10ë¬¸í•­ Â· A/B/C/D ì„ íƒ Â· ê°€ì¥ ë§ì´ ì„ íƒëœ ìœ í˜•ìœ¼ë¡œ ë¬¸ì œì  ì§„ë‹¨. ê²°ê³¼ëŠ” ë³µì‚¬Â·ê³µìœ Â·ì´ë¯¸ì§€ ì €ì¥ ê°€ëŠ¥.</p>
    <div style="display:flex;gap:10px;margin-top:12px;flex-wrap:wrap">
      <button id="startBtn" class="btn">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
      <button id="howBtn" class="btn" style="background:transparent;color:var(--accent);border:1px dashed rgba(255,111,181,0.12)">ë°©ì‹ ë³´ê¸°</button>
    </div>
  </div>

  <div class="card" id="quizCard" style="display:none">
    <div class="q-top">
      <div class="q-num" id="qNum">Q1</div>
      <div style="color:var(--muted);font-weight:800" id="qProgress">1 / 10</div>
    </div>

    <div class="q-text" id="qText">ì§ˆë¬¸</div>
    <div class="options" id="options"></div>

    <div class="footer">
      <div class="progress"><div class="bar" id="bar"></div></div>
      <div style="min-width:120px;text-align:right">
        <button id="skipBtn" class="btn" style="background:transparent;color:var(--accent);border:1px solid rgba(255,111,181,0.12)">ê±´ë„ˆë›°ê¸°</button>
      </div>
    </div>
  </div>

  <div class="card" id="resultCard" style="display:none">
    <div class="result-wrap">
      <div class="res-emoji" id="resEmoji">ğŸ’¥</div>
      <div class="res-title" id="resTitle">ê²°ê³¼ íƒ€ì´í‹€</div>
      <div class="res-desc" id="resDesc"></div>

      <div class="actions">
        <button id="copyBtn" class="btn" style="background:linear-gradient(90deg,#ffbcd7,#ff8fb7)">ê²°ê³¼ ë³µì‚¬</button>
        <button id="tweetBtn" class="btn" style="background:linear-gradient(90deg,#8bbdff,#6fb8ff)">Xì— ê³µìœ </button>
        <button id="downloadBtn" class="btn" style="background:linear-gradient(90deg,#ffd38a,#ffb86b)">ì´ë¯¸ì§€ ì €ì¥</button>
      </div>

      <div class="small">ì†”ì§í•œ ì§„ë‹¨ì´ ë¶ˆí¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²°ê³¼ëŠ” ìê¸°ì„±ì°° ìš©ë„ë¡œë§Œ í™œìš©í•˜ì„¸ìš”.</div>

      <div style="text-align:center;margin-top:12px">
        <button id="retryBtn" class="btn" style="background:linear-gradient(90deg,#ff7aa1,#ff4d8a);padding:12px 20px">ë‹¤ì‹œ í•˜ê¸°</button>
      </div>
    </div>
  </div>

</div>

<canvas id="resultCanvas" width="800" height="1000"></canvas>

<script>
/* ì§ˆë¬¸ ë°ì´í„° (10ë¬¸í•­) */
const questions = [
{q:"1. ëˆ„ê°€ ë‹¹ì‹ ì„ ë¹„íŒí•˜ë©´ ë¨¼ì € ë“œëŠ” ìƒê°ì€?", opts:[
  {t:"A", txt:"ë‚´ê°€ ë­˜ ì˜ëª»í–ˆë‚˜ ë°˜ì„±"},
  {t:"B", txt:"ì™œ ì € ì‚¬ëŒì´ ê°íˆ... í™”ë‚¨"},
  {t:"C", txt:"ìƒëŒ€ ì˜ë„ ë¬´ì—‡ì¸ì§€ ê³„ì‚°"},
  {t:"D", txt:"ì‹ ê²½ ë„ê³  ê´€ì‹¬ ëŠìŒ"},
]},
{q:"2. ì¹œêµ¬ê°€ ë‚´ ê³„íšì„ ë°”ê¾¸ë©´?", opts:[
  {t:"A", txt:"ë‚´ ê¸°ë¶„ ìƒí•˜ì§€ë§Œ ìˆ¨ê¹€"},
  {t:"B", txt:"ë°”ë¡œ ë¶ˆë§Œ í‘œì¶œ"},
  {t:"C", txt:"ì™œ ê·¸ë¬ëŠ”ì§€ ê³„ì† ì¶”ì "},
  {t:"D", txt:"ë‹¤ìŒë¶€í„° ì—°ë½ ì˜ ì•ˆ í•¨"},
]},
{q:"3. ë°˜ë³µë˜ëŠ” ì‹¤ìˆ˜ ì§€ì ì„ ë“¤ìœ¼ë©´?", opts:[
  {t:"A", txt:"ë‚´ê°€ ë¬¸ì œì¸ê°€ ì‹¶ì–´ ìš°ìš¸"},
  {t:"B", txt:"ì–µìš¸í•´ì„œ í¬ê²Œ ê°ì • í‘œì¶œ"},
  {t:"C", txt:"ë°˜ë°•Â·ë…¼ë¦¬ë¡œ ìƒëŒ€ ì œì••"},
  {t:"D", txt:"ê±°ë¦¬ ë‘ê³  ê´€ì‹¬ì„œ ì•½í•´ì§"},
]},
{q:"4. ëˆ„êµ°ê°€ ë‚˜ë¥¼ ì´ìš©í•œë‹¤ê³  ëŠë¼ë©´?", opts:[
  {t:"A", txt:"ê³„ì† ì°¸ë‹¤ê°€ ìƒì²˜ ë°›ìŒ"},
  {t:"B", txt:"ê°ì •ì ìœ¼ë¡œ í­ë°œí•¨"},
  {t:"C", txt:"ë˜ê°šì„ ë°©ë²• ìƒê°í•¨"},
  {t:"D", txt:"ê·¸ëƒ¥ ë– ë‚˜ë²„ë¦¼"},
]},
{q:"5. ì•½ì†ì„ ì§€í‚¤ì§€ ì•ŠëŠ” ì‚¬ëŒì„ ë³´ë©´?", opts:[
  {t:"A", txt:"ë‚´ê°€ ë§ì¶°ì£¼ë ¤ ì• ì”€"},
  {t:"B", txt:"ì§ì ‘ì ìœ¼ë¡œ ë¶ˆí‰í•¨"},
  {t:"C", txt:"ê³„ì† í…ŒìŠ¤íŠ¸í•´ë´„"},
  {t:"D", txt:"ê·¸ ì‚¬ëŒê³¼ ëŒ€í™” ì¤„ì„"},
]},
{q:"6. ì¹­ì°¬ì„ ë“¤ìœ¼ë©´ ë‹¹ì‹ ì€?", opts:[
  {t:"A", txt:"ê¸°ì˜ì§€ë§Œ ê²¸ì†í•´ì§"},
  {t:"B", txt:"ë°›ì•„ì£¼ê³  ë” ë³´ì—¬ì£¼ë ¤ í•¨"},
  {t:"C", txt:"ì™œ ì¹­ì°¬í–ˆëŠ”ì§€ ì½ìŒ"},
  {t:"D", txt:"ë³„ ê´€ì‹¬ ì—†ìŒ, ê¸ˆë°© ì‹ìŒ"},
]},
{q:"7. ëˆ„êµ°ê°€ì˜ ë§ì´ ìƒì²˜ë˜ë©´?", opts:[
  {t:"A", txt:"ì†ìœ¼ë¡œ ìì±…í•œë‹¤"},
  {t:"B", txt:"ë°”ë¡œ ë§ë°›ì•„ì¹œë‹¤"},
  {t:"C", txt:"ê³„íšì ìœ¼ë¡œ ê±°ë¦¬ë¥¼ ë‘”ë‹¤"},
  {t:"D", txt:"ì—°ë½ì„ ëŠì–´ë²„ë¦°ë‹¤"},
]},
{q:"8. ì¤‘ìš”í•œ ê²°ì • ì•ì—ì„œ ë‹¹ì‹ ì€?", opts:[
  {t:"A", txt:"ë‹¤ë¥¸ ì‚¬ëŒ ëˆˆì¹˜ ë³´ë©° ë§ì„¤ì„"},
  {t:"B", txt:"ê°ì •ì  ì¶©ë™ìœ¼ë¡œ ê²°ì •í•¨"},
  {t:"C", txt:"ë°ì´í„°Â·ê³„ì‚°ìœ¼ë¡œ ì ‘ê·¼"},
  {t:"D", txt:"ê´€ì‹¬ ì—†ìœ¼ë©´ ê²°ì • íšŒí”¼"},
]},
{q:"9. ì—°ì• ì—ì„œ ë°˜ë³µë˜ëŠ” ë¬¸ì œëŠ”?", opts:[
  {t:"A", txt:"í•­ìƒ ë‚´ê°€ ë” ì°¸ìŒ"},
  {t:"B", txt:"ì‚¬ì†Œí•œ ì¼ë¡œ í¬ê²Œ ì‹¸ì›€"},
  {t:"C", txt:"ê³„ì† ì „ëµì ìœ¼ë¡œ ê´€ê³„ ìš´ì˜"},
  {t:"D", txt:"ë¹ ë¥´ê²Œ ê¶Œíƒœ ëŠë‚Œ"},
]},
{q:"10. ì£¼ë³€ ì‚¬ëŒë“¤ì´ ë‹¹ì‹ ì—ê²Œ ê°€ì¥ ë§ì´ í•˜ëŠ” ë§ì€?", opts:[
  {t:"A", txt:"ë„ˆëŠ” ë„ˆë¬´ ì°©í•´ ë³´ì¸ë‹¤"},
  {t:"B", txt:"ë„ˆëŠ” ë„ˆë¬´ í‹°ê°€ ë‚˜ì„œ ë¬¸ì œì•¼"},
  {t:"C", txt:"ë„ˆëŠ” ê³„ì‚°ì ì´ì•¼"},
  {t:"D", txt:"ë„ˆëŠ” ì‰½ê²Œ ì‹ëŠ”ë‹¤"},
]}
];

/* ê²°ê³¼ ìœ í˜• */
const results = {
 A:{ emoji:"ğŸ•Šï¸", title:"ê³¼ì‰ìˆ˜ìš©í˜• ë¬¸ì œì ", desc:"íƒ€ì¸ì˜ ê¸°ì¤€ì´ë‚˜ ê¸°ëŒ€ì— ê³¼ë„í•˜ê²Œ ë§ì¶”ë ¤ë‹¤ ìì‹ ì„ ìƒëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì°©í•˜ê³  ë°°ë ¤ ê¹Šì€ ë©´ì´ ìˆì§€ë§Œ, ë„ˆë¬´ ì°¸ëŠ” íƒœë„ëŠ” ì¥ê¸°ì ìœ¼ë¡œ ì†Œì§„ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. ëŒ€í™”ë¡œ ê²½ê³„ ì„¤ì •ì„ ì—°ìŠµí•˜ì„¸ìš”." },
 B:{ emoji:"ğŸ”¥", title:"ê°ì • í‘œì¶œí˜• ë¬¸ì œì ", desc:"ê°ì •ì´ ê³§ í–‰ë™ìœ¼ë¡œ ì´ì–´ì ¸ ì£¼ë³€ì— ì˜¤í•´ë¥¼ ë‚³ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìˆœê°„ì˜ ë¶„ë…¸ë‚˜ ì„œìš´í•¨ì„ ë‹¤ìŠ¤ë¦¬ì§€ ëª»í•˜ë©´ ê´€ê³„ê°€ ë°˜ë³µì ìœ¼ë¡œ ê¹¨ì§ˆ ìˆ˜ ìˆì–´ìš”. í•œ ê±¸ìŒ ë¬¼ëŸ¬ì„œì„œ ìƒê°í•˜ëŠ” ì—°ìŠµì„ í•´ë³´ì„¸ìš”." },
 C:{ emoji:"ğŸ§­", title:"ì „ëµÂ·ê³„ì‚°í˜• ë¬¸ì œì ", desc:"ê´€ê³„ì—ì„œ ê³„ì‚°ê³¼ ì „ëµì´ ì§€ë‚˜ì³ ìƒëŒ€ê°€ í”¼ê³¤í•¨ì„ ëŠë‚ë‹ˆë‹¤. í†µì œí•˜ë ¤ëŠ” íƒœë„ëŠ” ë‹¨ê¸°ì  ì´ë“ì„ ì£¼ì§€ë§Œ ì‹ ë¢°ë¥¼ í›¼ì†í•©ë‹ˆë‹¤. ì†”ì§í•¨ê³¼ ì•½ì†ì„ ë¨¼ì € ì§€í‚¤ëŠ” í–‰ë™ì„ ëŠ˜ë ¤ë³´ì„¸ìš”." },
 D:{ emoji:"â„ï¸", title:"ëƒ‰ë‹´Â·íšŒí”¼í˜• ë¬¸ì œì ", desc:"ë¬¸ì œì— ì§ë©´í•˜ê¸°ë³´ë‹¤ íšŒí”¼í•˜ëŠ” ê²½í–¥ì´ ìˆì–´ ê´€ê³„ê°€ ê¹Šì–´ì§€ê¸° ì–´ë µìŠµë‹ˆë‹¤. ê°ì • ì—°ê²°ì„ ì¼ë¶€ëŸ¬ë¼ë„ ë§Œë“œëŠ” ì‘ì€ ë£¨í‹´ì´ ë„ì›€ì´ ë©ë‹ˆë‹¤." }
};

/* ìƒíƒœ, ìš”ì†Œ */
let state = { index:0, scores:{A:0,B:0,C:0,D:0} };

const loader = document.getElementById('loader');
const app = document.getElementById('app');
const startBtn = document.getElementById('startBtn');
const howBtn = document.getElementById('howBtn');
const introCard = document.getElementById('introCard');
const quizCard = document.getElementById('quizCard');
const resultCard = document.getElementById('resultCard');
const qNum = document.getElementById('qNum');
const qText = document.getElementById('qText');
const optionsWrap = document.getElementById('options');
const qProgress = document.getElementById('qProgress');
const bar = document.getElementById('bar');

const resEmoji = document.getElementById('resEmoji');
const resTitle = document.getElementById('resTitle');
const resDesc = document.getElementById('resDesc');
const copyBtn = document.getElementById('copyBtn');
const tweetBtn = document.getElementById('tweetBtn');
const downloadBtn = document.getElementById('downloadBtn');
const retryBtn = document.getElementById('retryBtn');
const skipBtn = document.getElementById('skipBtn');

setTimeout(()=>{ loader.style.display='none'; app.style.display='block'; },800);

/* render question */
function renderQuestion(){
  const i = state.index;
  const q = questions[i];
  qNum.textContent = `Q${i+1}`;
  qText.textContent = q.q;
  qProgress.textContent = `${i+1} / ${questions.length}`;
  bar.style.width = `${Math.round((i)/questions.length*100)}%`;
  optionsWrap.innerHTML = '';
  q.opts.forEach((o, idx) => {
    const d = document.createElement('div');
    d.className='opt'; d.tabIndex=0;
    d.innerHTML = `<div class="ico">${String.fromCharCode(65+idx)}</div><div style="flex:1">${o.txt}</div>`;
    d.addEventListener('click', ()=> selectOption(o.t));
    d.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') selectOption(o.t) });
    optionsWrap.appendChild(d);
  });
}

/* select */
function selectOption(type){
  if(state.scores[type] !== undefined) state.scores[type]++;
  nextStep();
}

function nextStep(){
  if(state.index < questions.length - 1){
    state.index++; renderQuestion();
  } else showResult();
}

startBtn.addEventListener('click', ()=>{
  introCard.style.display='none'; quizCard.style.display='block';
  state.index=0; state.scores={A:0,B:0,C:0,D:0}; bar.style.width='0%'; renderQuestion();
});

howBtn.addEventListener('click', ()=> alert('10ë¬¸í•­ìœ¼ë¡œ ê°€ì¥ ë§ì´ ì„ íƒëœ ìœ í˜•ì„ ê²°ê³¼ë¡œ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤. ê²°ê³¼ëŠ” ë³µì‚¬Â·ê³µìœ Â·ì´ë¯¸ì§€ ì €ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.'));

skipBtn.addEventListener('click', ()=> nextStep());

/* show result */
function showResult(){
  quizCard.style.display='none';
  const entries = Object.entries(state.scores).sort((a,b)=>b[1]-a[1]);
  const topScore = entries[0][1];
  const tied = entries.filter(e=> e[1]===topScore).map(e=>e[0]);
  const prio = ['A','B','C','D']; // tie-break priority
  let pick = tied[0]; for(const p of prio) if(tied.includes(p)){ pick=p; break; }

  const r = results[pick];
  resEmoji.textContent = r.emoji;
  resTitle.textContent = r.title;
  resDesc.textContent = r.desc;

  resultCard.style.display='block';
}

/* retry */
retryBtn.addEventListener('click', ()=>{
  resultCard.style.display='none';
  introCard.style.display='block';
});

/* copy */
copyBtn.addEventListener('click', ()=>{
  const text = `${resEmoji.textContent} ${resTitle.textContent}\n\n${resDesc.textContent}`;
  navigator.clipboard.writeText(text).then(()=> alert("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!"));
});

/* tweet */
tweetBtn.addEventListener('click', ()=>{
  const t = encodeURIComponent(`${resTitle.textContent}\n${resDesc.textContent}`);
  window.open(`https://twitter.com/intent/tweet?text=${t}`);
});

/* download image */
downloadBtn.addEventListener('click', ()=>{
  const canvas = document.getElementById('resultCanvas');
  const ctx = canvas.getContext('2d');

  ctx.fillStyle="#ffffff";
  ctx.fillRect(0,0,800,1000);

  ctx.fillStyle="#ff3e85";
  ctx.font="bold 48px Gowun Dodum";
  ctx.textAlign="center";
  ctx.fillText("ë‚˜ì˜ ë¬¸ì œì  í…ŒìŠ¤íŠ¸",400,120);

  ctx.font="80px Gowun Dodum";
  ctx.fillText(resEmoji.textContent,400,240);

  ctx.fillStyle="#000";
  ctx.font="bold 40px Gowun Dodum";
  ctx.fillText(resTitle.textContent,400,330);

  ctx.font="26px Gowun Dodum";
  wrapText(ctx,resDesc.textContent,80,420,640,38);

  const link = document.createElement('a');
  link.download="result.png";
  link.href=canvas.toDataURL();
  link.click();
});

function wrapText(ctx, text, x, y, maxWidth, lineHeight){
  const words = text.split(" ");
  let line="";
  for(let n=0;n<words.length;n++){
    const test = line + words[n] + " ";
    const width = ctx.measureText(test).width;
    if(width > maxWidth){
      ctx.fillText(line,x+maxWidth/2,y);
      line = words[n] + " ";
      y += lineHeight;
    } else line = test;
  }
  ctx.fillText(line,x+maxWidth/2,y);
}
</script>

</body>
</html>
